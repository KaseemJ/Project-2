<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="/styles/styles.css" media="screen" title="no title" charset="utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <title>Home Page</title>
</head>

<body>
  {{{body}}}

  <script type="text/javascript">
  $(document).ready(function(){

    $("#delete-post").on("click", function(){
        var item_id= $(this).data("id")
        console.log(item_id)
        $.ajax({
            url: "/items/"+ item_id,
            method: "DELETE"
        }).then(function(){
            alert("Item id: "+ item_id+ " deleted")
            location.reload()
        })
    })
    $("#edit-post").on("click", function(e){
        e.preventDefault()
        var id= $(this).data("id")
        var user= $(this).data("userId")
        var editedItem= {
            item_name: $("#item_name").val().trim(),
            item_price: $("#item_price").val().trim(),
            item_description: $("#item_description").val().trim(),
            item_img_url: $("#item_img_url").val().trim(),
            item_category: $("#item_category").val().trim(),
            item_location: $("#item_location").val().trim(),
        }
        $.ajax({
            url: "/myaccount/"+ user+"/update/"+ id,
            type: "PUT",
            data: editedItem
        }).then(function(){
            alert("Item Id: "+ id+ "updated!")
            window.location.href=("/myaccount/"+ user)
        })
    })









})</script>
</body>

</html>
